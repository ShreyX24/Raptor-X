# Black Myth Wukong Benchmark Configuration
metadata:
  game_name: "Black Myth: Wukong"
  preset_id: black-myth-wukong  # Maps to preset-manager folder name
  steam_app_id: '3132990'  # Benchmark tool ID (main game is 2358720)
  path: "C:\\Program Files (x86)\\Steam\\steamapps\\common\\Black Myth Wukong Benchmark Tool\\b1\\Binaries\\Win64\\b1-Win64-Shipping.exe"
  process_id: "b1"  # Substring match - will find b1-Win64-Shipping.exe
  version: "1.0"
  benchmark_duration: 150
  startup_wait: 50
  resolution: "1920x1080"
  preset: "High"

# Simple step-by-step workflow
steps:
  1:
    description: "Click Anywhere in the screen (intro)"
    find:
      type: "any"
      text: "BLACK"
      text_match: "contains"
    action:
      type: "click"
      button: "left"
      move_duration: 0.5
      click_delay: 0.5
    verify_success:
      - type: "icon"
        text: "Benchmark"
        text_match: "contains"
    expected_delay: 10
    timeout: 30

  2:
    description: "Click Benchmark"
    find:
      type: "icon"
      text: "Benchmark"
      text_match: "contains"
    action:
      type: "click"
      button: "left"
      move_duration: 0.5
      click_delay: 0.5
    verify_success:
      - type: "any"
        text: "Confirm"
        text_match: "contains"
    expected_delay: 5
    timeout: 20

  3:
    description: "Click Confirm to start benchmark"
    find:
      type: "any"
      text: "Confirm"
      text_match: "contains"
    action:
      type: "click"
      button: "left"
      move_duration: 0.5
      click_delay: 0.5
    verify_success: 
      - type: "any"
        text: "current"
        text_match: "contains"
    expected_delay: 20
    timeout: 20

  4:
    description: "Wait for benchmark to run"
    action:
      type: "wait"
      duration: 155
    expected_delay: 0
    timeout: 120

  5:
    description: "Benchmark Result Page"
    find:
      type: "any"
      text: "Benchmark Results"
      text_match: "contains"
    action:
      type: "click"
      button: "right"
    expected_delay: 5
    timeout: 20

  6:
    description: "Click Confirm to exit benchmark"
    find:
      type: "any"
      text: "exit the benchmark"
      text_match: "contains"
    action:
      type: "key"
      key: "enter"
    verify_success:
      - type: "any"
        text: ["Wukong", "WUKONG", "WUKONO", "BLACK"]
        text_match: "contains"
    expected_delay: 10
    timeout: 20

  7:
    description: "Click Anywhere in the screen"
    find:
      type: "any"
      text: ["Wukong", "WUKONG", "WUKONO", "BLACK"]
      text_match: "contains"
    action:
      type: "click"
      button: "left"
    verify_success:
      - type: "any"
        text: "Exit"
        text_match: "contains"
    expected_delay: 5
    timeout: 20

  8:
    description: "Click Exit"
    find:
      type: "any"
      text: "Exit"
      text_match: "contains"
    action:
      type: "click"
      button: "left"
    verify_success:
      - type: "any"
        text: "Confirm"
    expected_delay: 6
    timeout: 20

  9:
    description: "Click Confirm to exit to desktop"
    find:
      type: "any"
      text: ["quit to desktop", "quit to the desktop"]
      text_match: "contains"
    action:
      type: "key"
      key: "enter"
    expected_delay: 5
    timeout: 20

# Fallback actions
fallbacks:
  general:
    action: "key"
    key: "Escape"
    expected_delay: 1
    max_retries: 3
